System.register([],(function(e,o){"use strict";return{execute:function(){var e=document.createElement("style");e.textContent=".lpfw-checkout-redeem-row{font-size:15px;line-height:1.3em}.lpfw-checkout-redeem-row p{margin:0 0 .5em}.lpfw-checkout-redeem-row p.summary,.lpfw-checkout-redeem-row p.description,.lpfw-checkout-redeem-row p.my-points-link{font-size:.85em}.lpfw-checkout-redeem-row .lpfw-points-status{margin-bottom:1em}.lpfw-checkout-redeem-row .lpfw-checkout-redeem-form .lpfw-fields{display:flex;flex-flow:row;align-items:center;margin-left:2px;margin-bottom:.5em;column-gap:5px;row-gap:5px}.lpfw-checkout-redeem-row .lpfw-checkout-redeem-form .lpfw-fields *{font-size:.8em;width:100%}.lpfw-checkout-redeem-row .lpfw-checkout-redeem-form input{flex-grow:2}body.lpfw-checkout-smallwidth .lpfw-checkout-redeem-row .lpfw-checkout-redeem-form .lpfw-fields{flex-flow:column}.lpfw-checkout-redeem-row .lpfw-checkout-redeem-form input.error{outline:2px solid #cc0000}.lpfw-user-coupons .lpfw-coupon-btn{margin:.3em .2em;padding:.5em .7em;font-size:.8em;font-weight:400;text-align:left}.lpfw-user-coupons .lpfw-coupon-btn strong{margin-right:.3em}.lpfw-checkout-redeem-row svg.caret-icon{position:absolute;top:-3px;left:-22px;color:inherit;margin:0;transition:transform .5s ease}.lpfw-checkout-redeem-row p.toggled svg.caret-icon{transform:rotate(90deg)}.lpfw-checkout-redeem-row p.toggle-trigger{cursor:pointer;position:relative}.lpfw-checkout-redeem-row .toggle-block{overflow:hidden;transition:max-height .3s ease}.lpfw-checkout-redeem-row .lpfw-checkout-redeem-form .toggle-block{max-height:300px}.lpfw-checkout-redeem-row .lpfw-user-coupons .toggle-block{max-height:1000px}.lpfw-checkout-redeem-row .toggle-block.hide{max-height:0}body #wfacp-e-form .wfacp_main_form.woocommerce .wfacp-form-control-wrapper.lpfw-loyalty-pointss-redeem-form-field .woocommerce-info{padding-bottom:0!important}body #wfacp-e-form .wfacp_main_form.woocommerce .wfacp-form-control-wrapper.lpfw-loyalty-pointss-redeem-form-field .acfw-checkout-form-button-field{padding-top:1em}\n",document.head.appendChild(e);const o=jQuery;function t(){const e=o(this).closest(".lpfw-redeem-loyalty-points-form-field"),t=e.find("input.points-field");var r=parseInt(t.val());r&&(o("body").trigger("acfw-blockCheckout"),o.post(wc_checkout_params.ajax_url,{action:"lpfw_redeem_points_for_user",redeem_points:r,wpnonce:e.data("nonce"),is_checkout:1},(e=>{o("body").trigger("acfw-unblockCheckout"),o(document.body).trigger("update_checkout",{update_shipping_method:!1}),t.val("")})))}function r(){const e=o(this),t=e.closest(".lpfw-redeem-loyalty-points-form-field").find(".trigger-redeem"),r=parseInt(e.prop("min")),c=parseInt(e.prop("max")),p=parseInt(e.val());p?p>0&&(p<r||p>c)?(e.addClass("error"),t.prop("disabled",!0)):(e.removeClass("error"),p&&t.prop("disabled",!1)):(e.removeClass("error"),t.prop("disabled",!0))}function c(){const e=o(this),t=parseInt(e.prop("min")),r=parseInt(e.prop("max")),c=parseInt(e.val());c<t?e.val(t):c>r&&e.val(r),e.trigger("keyup")}function p(){o(".acfw-loyalprog-notice-checkout").html("")}jQuery(document).ready((function(e){e("body.woocommerce-checkout").on("click",".lpfw-redeem-loyalty-points-form-field button.trigger-redeem",t),e("body.woocommerce-checkout").on("keyup",".lpfw-redeem-loyalty-points-form-field input.points-field",r),e("body.woocommerce-checkout").on("change",".lpfw-redeem-loyalty-points-form-field input.points-field",c),e("body.woocommerce-checkout").on("update_checkout",p)}))}}}));
