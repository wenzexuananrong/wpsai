System.register(["../../common/loyalty-point-notice-legacy.9e9498d2.js"],(function(e,t){"use strict";var c,a;return{setters:[e=>{c=e.s,a=e.L}],execute:function(){const e="lpfw-wc-checkout-block",{wcSettings:t}=wc,l=()=>{var a;const{useState:l}=wp.element,{lpfw_block:o}=c.getCartData().extensions,n=null!=o&&null!==(a=o.loyalty_points)&&void 0!==a&&a.labels?o.loyalty_points.labels:{balance_text:"",instructions:"",placeholder:"",toggle_text:""},{caret_img_src:r,loyalty_points:s}=(i=e,t.getSetting(`${i}_data`));var i;const{button_text:u,redeem_nonce:m}=s,[p,f]=l(""),[_,w]=l(!1);return{caret_img_src:r,button_text:u,...n,dispatchLolyatyPoint:()=>{const{adminAjaxUrl:e}=acfwfObj,{dummyUpdateCart:t}=acfwfObj.wc,{dispatch:c}=wp.data;w(!0),jQuery.post(e,{action:"lpfw_redeem_points_for_user",redeem_points:p,wpnonce:m,is_checkout:1,is_cart_checkout_block:!0},(function(e){t(),f(""),c("core/notices").createNotice(e.status,e.message,{type:"snackbar",context:"wc/checkout"}),setTimeout((()=>{w(!1)}),200)}))},amount:p,setAmount:f,ButtonDisabled:_,setButtonDisabled:w,lpfw_block:o}};function o(){var e;const{Accordion:t}=acfwfObj.components,{caret_img_src:c,toggle_text:a,balance_text:o,button_text:n,instructions:r,placeholder:s,dispatchLolyatyPoint:i,amount:u,setAmount:m,ButtonDisabled:p,lpfw_block:f}=l();return null!=f&&null!==(e=f.loyalty_points)&&void 0!==e&&null!==(e=e.points)&&void 0!==e&&e.user_points?React.createElement("div",{className:"acfwf-components lpfw-checkout-ui-block"},React.createElement(t,{title:a,caret_img_src:c},React.createElement("div",null,React.createElement("p",{className:"acfw-store-credit-user-balance"},React.createElement("div",{dangerouslySetInnerHTML:{__html:o}})),React.createElement("p",{className:"lpfw-loyalty-point-instructions"},React.createElement("div",{dangerouslySetInnerHTML:{__html:r}})),React.createElement("div",{id:"lpfw_redeem_loyalty_point",className:"lpfw-redeem-loyalty-point-form-field acfw-checkout-form-button-field "},React.createElement("p",{className:"form-row form-row-first acfw-form-control-wrapper acfw-col-left-half wfacp-input-form"},React.createElement("label",{htmlFor:"coupon_code"}),React.createElement("input",{type:"text",className:"input-text wc_input_price ",value:u,placeholder:s,onChange:e=>{m(e.target.value)}})),React.createElement("p",{className:"form-row form-row-last acfw-col-left-half acfw_coupon_btn_wrap"},React.createElement("label",{className:"acfw-form-control-label"},"Â "),React.createElement("button",{type:"button",className:"button alt",onClick:i,disabled:p},n)))))):null}!function(){const{registerPlugin:e}=wp.plugins,{ExperimentalOrderMeta:t}=wc.blocksCheckout;e("lpfw-loyalty-point",{render:()=>React.createElement(t,null,React.createElement(a,null),React.createElement(o,null)),scope:"woocommerce-checkout"})}()}}}));
