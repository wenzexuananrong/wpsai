function b(){import.meta.url,import("_").catch(()=>1);async function*r(){}}const f="agc-wc-checkout-block",d={integration:f},g=()=>{const{adminAjaxUrl:r,wc:{dummyUpdateCart:a}}=acfwfObj,{useState:o}=wp.element,{dispatch:l}=wp.data,{wcSettings:s}=wc,{redeem_form:n}=s.getSetting("".concat(d.integration,"_data")),[t,c]=o(""),[e,i]=o(!1);return{code:t,setCode:c,buttonDisabled:e,setButtonDisabled:i,redeem_form:n,dispatchRedeemGiftCard:R=>{i(!0),jQuery.post(r,{action:"agcfw_redeem_gift_card",gift_card_code:t,_wpnonce:n.nonce,is_cart_checkout_block:!0},m=>{a(),c(""),l("core/notices").createNotice(m.status,m.message,{type:"snackbar",context:"wc/checkout"}),setTimeout(()=>{i(!1)},200)})}}};function u(r){const{code:a,setCode:o,buttonDisabled:l,redeem_form:s,dispatchRedeemGiftCard:n}=g(),{labels:t}=s;return React.createElement("div",{id:"agc-redeem-gift-card-form",className:"agc-redeem-gift-card-form acfw-checkout-form-button-field"},React.createElement("p",{className:"form-row form-row-first acfw-form-control-wrapper acfw-col-left-half"},React.createElement("label",{htmlFor:"gift_card_code"}),React.createElement("input",{type:"text",className:"gift_card_code input-text",value:a,placeholder:t.input_placeholder,onChange:c=>o(c.target.value)})),React.createElement("p",{className:"form-row form-row-last acfw-form-control-wrapper acfw-col-right-half"},React.createElement("label",{className:"agc-form-control-label acfw-form-control-label"},"Â "),React.createElement("button",{type:"button",className:"agc-form-control-button button alt",disabled:l||!a,onClick:n},t.button_text)))}const p=r=>{const{useState:a}=wp.element,{Popover:o}=wp.components,{iconSrc:l,toggleText:s,title:n,content:t}=r,[c,e]=a(!1);return React.createElement(React.Fragment,null,React.createElement("span",{className:"agc-tooltip-toggler",onClick:()=>e(!c)},s),c&&React.createElement(o,{className:"agc-tooltip-container",position:"top center",focusOnMount:!0,onFocusOutside:()=>e(!1)},React.createElement("h4",{className:"agc-tooltip-title"},React.createElement("img",{className:"agc-tooltip-icon",src:l,alt:"question"}),React.createElement("span",null,n)),React.createElement("div",{className:"agc-tooltip-content"},t)))};function _(){const{Accordion:r}=acfwfObj.components,{wcSettings:a}=wc,{ExperimentalOrderMeta:o}=wc.blocksCheckout,{registerPlugin:l}=wp.plugins,{caret_img_src:s,question_img_src:n,is_user_logged_in:t,display_gift_card_redeem_form:c,redeem_form:{labels:e}}=a.getSetting("".concat(d.integration,"_data"));c==="yes"&&l("agc-gift-card-discount-form",{render:()=>React.createElement(o,null,React.createElement("div",{className:"agc-components acfwf-components agc-checkout-ui-block"},React.createElement(r,{title:e.title,caret_img_src:s},t?React.createElement(React.Fragment,null,React.createElement("p",{className:"agc-redeem-description"},e.description," ",React.createElement(p,{iconSrc:n,toggleText:e.tooltip_link_text,title:e.tooltip_title,content:e.tooltip_content})),React.createElement(u,null)):React.createElement("p",{className:"agc-redeem-description",dangerouslySetInnerHTML:{__html:e.guest_content}})))),scope:"woocommerce-checkout"})}_();export{b as __vite_legacy_guard};
