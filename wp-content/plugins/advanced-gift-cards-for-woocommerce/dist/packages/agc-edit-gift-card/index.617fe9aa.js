function r(){import.meta.url,import("_").catch(()=>1);async function*e(){}}vex.defaultOptions.className="vex-theme-plain";(function(e){e(".options_group.pricing").addClass("show_if_advanced_gift_card"),e("._tax_status_field").closest(".options_group").addClass("show_if_advanced_gift_card"),e("label[for='_virtual']").addClass("show_if_advanced_gift_card")})(jQuery);jQuery(document).ready(function(e){var i={customBackgroundFrame:null,toggleVirtualDisabled:function(){const t=e(this),a=e("input#_virtual");t.val()==="advanced_gift_card"?a.prop("checked",!0).prop("disabled",!0):a.prop("disabled",!1)},selectGiftCardDesign:function(){var t=e(this),a=t.closest(".agcfw-built-in-design-options"),o=t.closest("label");a.find("label").removeClass("selected"),o.addClass("selected")},initcustomBackgroundFrame:function(){if(e(this),i.customBackgroundFrame){i.customBackgroundFrame.open();return}i.customBackgroundFrame=wp.media.frames.agcfw_custom_bg_frame=wp.media({title:"Choose Image",button:{text:"Select Image"},states:[new wp.media.controller.Library({title:"Choose Image",filterable:"all",multiple:!1})]}),i.customBackgroundFrame.on("select",function(){var t=e(".agcfw-custom-bg-option input"),a=e(".agcfw-custom-bg-option .image-wrapper"),o=i.customBackgroundFrame.state().get("selection").single().toJSON(),c=o.sizes&&o.sizes.medium?o.sizes.medium.url:o.url;a.html("<img src='"+c+"' />"),t.val(o.id),e(".agcfw-custom-bg-option .empty-placeholder").hide(),e(".agcfw-custom-bg-option .image-placeholder").show(),e(".agcfw-built-in-design-options").hide(),e(".agcfw-custom-bg-option > p").hide()}),i.customBackgroundFrame.open()},removeCustomBackgroundImage:function(){var t=e(this),a=t.closest(".agcfw-custom-bg-option");a.find(".image-placeholder").hide(),a.find(".empty-placeholder").show(),a.find(".image-placehoder .image-wrapper").html(""),a.find("input").val(""),e(".agcfw-built-in-design-options").show(),e(".agcfw-custom-bg-option > p").show()},displayEmailPreview:function(){var t=function(){var a=new URLSearchParams;a.append("action","agcfw_gift_card_preview_email"),a.append("value",e("input[name='agcfw[value]']").val()),a.append("design",e("input[name='agcfw[design]']:checked").val()),a.append("custom_bg",e("input[name='agcfw[custom_bg]']").val()),a.append("_wpnonce",e(".agcfw_preview_email_field").data("nonce"));var o=ajaxurl+"?"+a.toString();e(".agcfw-email-preview-vex .vex-content").html("<iframe src='"+o+"' width='100%' height='100%'></iframe>")};vex.dialog.open({content:" ",className:"vex-theme-plain agcfw-email-preview-vex",afterOpen:t})},toggleCustomExpiryField:function(){var t=e(this),a=t.siblings(".agcfw-custom-expiry-wrapper");t.val()==="custom"?(a.addClass("show"),a.find("input").prop("readonly",!1)):(a.removeClass("show"),a.find("input").prop("readonly",!0))},toggleAllowDeliveryDateField:function(){var t=e(this),a=e(this).parent(".form-field").siblings(".agcfw_allow_delivery_date_field");t.is(":checked")?(a.removeClass("disabled"),a.find("input").prop("disabled",!1)):(a.addClass("disabled"),a.find("input").prop("disabled",!0))}};e("#woocommerce-product-data").on("change agcfw_toggle_virtual","select#product-type",i.toggleVirtualDisabled),e("select#product-type").trigger("agcfw_toggle_virtual"),e("#woocommerce-product-data").on("change",".agcfw-built-in-design-options input",i.selectGiftCardDesign),e(".agcfw-built-in-design-options input:checked").trigger("change"),e(".agcfw-custom-bg-option").on("click","button,.image-wrapper img",i.initcustomBackgroundFrame),e(".agcfw-custom-bg-option").on("click","a.remove-custom-bg",i.removeCustomBackgroundImage),e("#woocommerce-product-data").on("click",".agcfw_preview_email_field button",i.displayEmailPreview),e("#woocommerce-product-data").on("change agc_load",".agcfw_gift_card_expiry select",i.toggleCustomExpiryField),e("#woocommerce-product-data").on("change agc_load",".agcfw_is_giftable_field input",i.toggleAllowDeliveryDateField),e(".agcfw_gift_card_expiry select").trigger("agc_load"),e(".agcfw_is_giftable_field input").trigger("agc_load")});export{r as __vite_legacy_guard};
