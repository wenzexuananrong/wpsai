function B(){import.meta.url,import("_").catch(()=>1);async function*e(){}}const F=e=>jQuery.ajax({method:"post",url:ajaxurl,data:e,dataType:"json"}),S=()=>jQuery.ajax({url:ajaxurl,data:{action:"acfw_get_license_details"},dataType:"json"}),I=e=>{const{license_page:{_formNonce:l}}=acfwAdminApp;return e.action="acfw_activate_license",jQuery.ajax({method:"post",url:ajaxurl,data:{action:"acfw_activate_license","activation-email":e.email,"license-key":e.key,"ajax-nonce":l},dataType:"json"})},T=()=>{const{element:{useEffect:e,useState:l,Fragment:m},antd:s,antdIcons:{CheckCircleFilled:i}}=acfwpElements,{Form:n,Input:r,Button:E,Typography:f,Skeleton:u,message:w}=s,{Link:v}=f,[a,o]=l({key:!1}),[g,c]=l(!1),[d,_]=l(!1),[b]=n.useForm(),{license_page:{title:x,desc:j,indicator:h,license_status:A,premium_content:k,specs:N,formlabels:p,spinner_img:L}}=acfwAdminApp;e(()=>{S().done(t=>{t.status==="success"&&o({key:t.license_key?t.license_key:"",email:t.email?t.email:"",is_active:t.is_active})}).always(()=>c(!0))},[o,c]);const C=t=>{_(!0),I(t).done(y=>{y.status==="success"?(w.success(y.message),o({...a,is_active:"yes"})):(["inactive","invalid","expired"].includes(y.license_status)&&o({...a,is_active:"no"}),w.error(y.message))}).always(()=>_(!1))};return acfwpElements.element.createElement("div",{id:"license-placeholder"},acfwpElements.element.createElement("div",{className:"overview"},acfwpElements.element.createElement("img",{className:"acfw-logo",src:acfwAdminApp.logo,alt:"acfw logo"}),acfwpElements.element.createElement("h1",null,x),acfwpElements.element.createElement("p",null,j)),acfwpElements.element.createElement("div",{className:"license-info ".concat(d?"show":"")},acfwpElements.element.createElement("div",{className:"heading"},acfwpElements.element.createElement("div",{className:"left"},acfwpElements.element.createElement("span",null,A.label)),acfwpElements.element.createElement("div",{className:"right"},acfwpElements.element.createElement("span",{className:"action-button active-indicator no-hover ".concat(a.is_active=="yes"?"activated":"")},a.is_active=="yes"&&acfwpElements.element.createElement(i,null),a.is_active=="yes"?h.active:h.inactive))),acfwpElements.element.createElement("div",{className:"content"},acfwpElements.element.createElement("h2",null,k.title),acfwpElements.element.createElement("p",null,k.text),acfwpElements.element.createElement("table",{className:"license-specs"},acfwpElements.element.createElement("thead",null,acfwpElements.element.createElement("tr",null,N.map(t=>acfwpElements.element.createElement("th",{key:t.label},t.label)))),acfwpElements.element.createElement("tbody",null,acfwpElements.element.createElement("tr",null,N.map(t=>acfwpElements.element.createElement("td",{key:t.value},t.value)))))),acfwpElements.element.createElement("div",{className:"license-form acfwp-license-form"},g?acfwpElements.element.createElement(m,null,acfwpElements.element.createElement(n,{layout:"vertical",form:b,initialValues:a,onFinish:C},acfwpElements.element.createElement(n.Item,{className:"license-form-item license-key-field",label:p.license_key,name:"key"},acfwpElements.element.createElement(r,{type:"password",autocomplete:"off"})),acfwpElements.element.createElement(n.Item,{className:"license-form-item activation-email-field",label:p.email,name:"email"},acfwpElements.element.createElement(r,{type:"email",autocomplete:"off"})),acfwpElements.element.createElement(n.Item,{className:"license-form-item form-action ".concat(a.is_active=="yes"?"grayed":"")},acfwpElements.element.createElement(E,{type:"primary",htmlType:"submit"},p.button))),acfwpElements.element.createElement("div",{className:"help-row"},p.help.text," ",acfwpElements.element.createElement(v,{href:p.help.link,target:"_blank"},p.help.login))):acfwpElements.element.createElement(u,{loading:!0,active:!0,paragraph:{rows:1}})),acfwpElements.element.createElement("div",{className:"overlay"},acfwpElements.element.createElement("img",{src:L,alt:"spinner"}))))};const $=e=>{const{element:l,antd:m}=acfwpElements,{useState:s}=l,{Button:i,message:n}=m,{id:r,nonce:E,button:{text:f,action:u,type:w}}=e,[v,a]=s(!1),o=g=>{a(!0),F({action:r,type:g,nonce:E}).done(c=>{var d;c.status==="success"?n.success(c.message):c.status==="warning"?n.warning(c.message):n.error((d=c.message)!=null?d:c.error_msg)}).always(()=>{a(!1)})};return acfwpElements.element.createElement(i,{type:w,onClick:()=>o(u),loading:v},f)},P=e=>{const{antd:{Col:l,Card:m}}=acfwpElements,{card:{title:s,desc:i,nonce:n,id:r,buttons:E}}=e;return acfwpElements.element.createElement(l,{className:"utility-card",span:8},acfwpElements.element.createElement(m,null,acfwpElements.element.createElement("h2",null,s),acfwpElements.element.createElement("p",null,i),acfwpElements.element.createElement("div",{className:"actions"},E.map((f,u)=>acfwpElements.element.createElement($,{id:r,nonce:n,button:f,key:u})))))},Q=()=>{const{antd:{Row:e}}=acfwpElements;if(!acfwAdminApp.help_page.utilities)return null;const{utilities:{title:l,cards:m}}=acfwAdminApp.help_page;return acfwpElements.element.createElement("div",{className:"utility-block"},acfwpElements.element.createElement("h1",null,l),acfwpElements.element.createElement(e,{gutter:10},m.map((s,i)=>acfwpElements.element.createElement(P,{card:s,key:i}))))};acfwpElements.LicensePremium=T;acfwpElements.HelpPremium=Q;export{B as __vite_legacy_guard};
