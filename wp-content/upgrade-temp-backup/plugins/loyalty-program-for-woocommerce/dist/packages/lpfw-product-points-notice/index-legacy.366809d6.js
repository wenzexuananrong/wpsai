System.register([],(function(e,t){"use strict";return{execute:function(){jQuery(document).ready((function(e){(e=>{const{options:t}=lpfwProductArgs,i=(e,t)=>{const i=document.querySelectorAll(e),r=Array.from(i),a=r.length>0?r[0]:void 0,o=r.length>0?r[r.length-1]:void 0;i.forEach((e=>{("showFirstElement"===t&&e!==a||"showLastElement"===t&&e!==o)&&e.parentNode.removeChild(e)}))};i(".product .entry-summary .loyalprog-earn-message","showFirstElement"),e(".loyalprog-earn-message").length>1&&(null==t||!t.display_multiple_earn_product_message)&&i(".product .loyalprog-earn-message","showLastElement")})(e),(e=>{if("undefined"!=typeof lpfwVariationArgs){var t=e(".loyalprog-earn-message"),i=t.find(".woocommerce-info"),r=e("form.variations_form"),a={init:function(){i.html(""),r.on("woocommerce_variation_has_changed",a.updateNotice),setTimeout((function(){r.trigger("woocommerce_variation_has_changed")}),1e3),r.on(".variations_form").on("found_variation",a.updateNotice)},calculatePoints:function(e){return lpfwVariationArgs.customPoints?parseInt(lpfwVariationArgs.customPoints):parseInt(Math.floor(e/lpfwVariationArgs.currency_ratio*lpfwVariationArgs.multiplier).toString())},getWholesalePrice:function(e){return"yes"==lpfwVariationArgs.includeTaxCalc&&e.wholesale_price?"incl"==lpfwVariationArgs.taxDisplay?e.wholesale_price:e.wholesale_price_raw:!("yes"==lpfwVariationArgs.includeTaxCalc||!e.wholesale_price_with_no_tax)&&e.wholesale_price_with_no_tax},getPrice:function(e){return"yes"==lpfwVariationArgs.includeTaxCalc?e.display_price_with_tax:e.display_price_no_tax},updateNotice:function(e,r=!1){if(r||(r=a.getVariation()),!r)return i.html(""),void t.hide();var o=a.getWholesalePrice(r)||a.getPrice(r),n=a.calculatePoints(o);i.html(lpfwVariationArgs.message.replace("{points}",n)),t.show()},getVariation:function(){var e=parseInt(r.find('input[name="variation_id"]').val());if(!e)return!1;var t=r.data("product_variations"),i=t.findIndex((function(t){return t.variation_id==e}));return 0<=i&&t[i]}};a.init()}})(e)}))}}}));
